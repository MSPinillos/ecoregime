<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Set of metrics to analyze the deviation of disturbed trajectories from an
ecological dynamic regime (EDR) considering a representative trajectory as the
reference. These metrics include the resistance to the disturbance, amplitude,
recovery, and net change."><title>Metrics of trajectory deviation with respect to a reference trajectory — deviation_metrics • ecoregime</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Metrics of trajectory deviation with respect to a reference trajectory — deviation_metrics"><meta property="og:description" content="Set of metrics to analyze the deviation of disturbed trajectories from an
ecological dynamic regime (EDR) considering a representative trajectory as the
reference. These metrics include the resistance to the disturbance, amplitude,
recovery, and net change."><meta property="og:image" content="https://mspinillos.github.io/ecoregime/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">ecoregime</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.3.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/EDR_framework.html">Ecological Dynamic Regime framework</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/MSPinillos/ecoregime/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Metrics of trajectory deviation with respect to a reference trajectory</h1>
      <small class="dont-index">Source: <a href="https://github.com/MSPinillos/ecoregime/blob/HEAD/R/deviation_metrics.R" class="external-link"><code>R/deviation_metrics.R</code></a></small>
      <div class="d-none name"><code>deviation_metrics.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Set of metrics to analyze the deviation of disturbed trajectories from an
ecological dynamic regime (EDR) considering a representative trajectory as the
reference. These metrics include the resistance to the disturbance, amplitude,
recovery, and net change.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">resistance</span><span class="op">(</span></span>
<span>  <span class="va">d</span>,</span>
<span>  <span class="va">trajectories</span>,</span>
<span>  <span class="va">states</span>,</span>
<span>  <span class="va">disturbed_trajectories</span>,</span>
<span>  <span class="va">disturbed_states</span>,</span>
<span>  predisturbed_states <span class="op">=</span> <span class="va">disturbed_states</span> <span class="op">-</span> <span class="fl">1</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">amplitude</span><span class="op">(</span></span>
<span>  <span class="va">d</span>,</span>
<span>  <span class="va">trajectories</span>,</span>
<span>  <span class="va">states</span>,</span>
<span>  <span class="va">disturbed_trajectories</span>,</span>
<span>  <span class="va">disturbed_states</span>,</span>
<span>  predisturbed_states <span class="op">=</span> <span class="va">disturbed_states</span> <span class="op">-</span> <span class="fl">1</span>,</span>
<span>  <span class="va">reference</span>,</span>
<span>  index <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"absolute"</span>, <span class="st">"relative"</span><span class="op">)</span>,</span>
<span>  method <span class="op">=</span> <span class="st">"nearest_state"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">recovery</span><span class="op">(</span></span>
<span>  <span class="va">d</span>,</span>
<span>  <span class="va">trajectories</span>,</span>
<span>  <span class="va">states</span>,</span>
<span>  <span class="va">disturbed_trajectories</span>,</span>
<span>  <span class="va">disturbed_states</span>,</span>
<span>  <span class="va">reference</span>,</span>
<span>  index <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"absolute"</span>, <span class="st">"relative"</span><span class="op">)</span>,</span>
<span>  method <span class="op">=</span> <span class="st">"nearest_state"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">net_change</span><span class="op">(</span></span>
<span>  <span class="va">d</span>,</span>
<span>  <span class="va">trajectories</span>,</span>
<span>  <span class="va">states</span>,</span>
<span>  <span class="va">disturbed_trajectories</span>,</span>
<span>  <span class="va">disturbed_states</span>,</span>
<span>  predisturbed_states <span class="op">=</span> <span class="va">disturbed_states</span> <span class="op">-</span> <span class="fl">1</span>,</span>
<span>  <span class="va">reference</span>,</span>
<span>  index <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"absolute"</span>, <span class="st">"relative"</span><span class="op">)</span>,</span>
<span>  method <span class="op">=</span> <span class="st">"nearest_state"</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>d</dt>
<dd><p>Either a symmetric matrix or an object of class <code><a href="https://rdrr.io/r/stats/dist.html" class="external-link">dist</a></code> containing the
dissimilarities between each pair of states.</p></dd>


<dt>trajectories</dt>
<dd><p>Vector indicating the trajectory or site to which each
state in <code>d</code> belongs.</p></dd>


<dt>states</dt>
<dd><p>Vector of integers indicating the order of the states in <code>d</code> for
each trajectory.</p></dd>


<dt>disturbed_trajectories</dt>
<dd><p>Vector of the same class as <code>trajectories</code> indicating
the identifier of the disturbed trajectories.</p></dd>


<dt>disturbed_states</dt>
<dd><p>Vector of integers included in <code>states</code>indicating the
first state after the release of the disturbance for each value in
<code>disturbed_trajectories</code>.</p></dd>


<dt>predisturbed_states</dt>
<dd><p>Vector of integers included in <code>states</code> indicating
the last undisturbed state of each <code>disturbed_trajectories</code>. The previous states
to <code>disturbed_states</code> are considered by default.</p></dd>


<dt>reference</dt>
<dd><p>Object of class <code>RETRA</code> indicating the representative trajectory
taken as the reference to compute the amplitude, recovery, and net_change of
the disturbed trajectories (see Details).</p></dd>


<dt>index</dt>
<dd><p>Method to calculate amplitude, recovery, or net change (<code>"absolute"</code>,
<code>"relative"</code>; see Details).</p></dd>


<dt>method</dt>
<dd><p>Method to calculate the distance between the <code>disturbed_states</code>
or <code>predisturbed_states</code> and the <code>reference</code> trajectory. One of <code>"nearest_state"</code>,
<code>"projection"</code> or <code>"mixed"</code> (see Details).</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<ul><li><p><code>resistance()</code> returns a data frame of two columns indicating the resistance
value (<code>Rt</code>) for each <code>disturbed_trajectory</code>.</p></li>
<li><p><code>amplitude()</code> returns a data frame of three columns indicating the amplitude
value (<code>A_abs</code>; <code>A_rel</code>) for each <code>disturbed_trajectory</code> and <code>reference</code>.
If <code>index = c("absolute", "relative")</code>, both values are included in a data
frame of four columns.</p></li>
<li><p><code>recovery()</code> returns a data frame of four columns indicating the recovery
value (<code>Rc_abs</code>; <code>Rc_rel</code>) for each <code>disturbed_trajectory</code>, post-disturbance
state (<code>state</code>) and <code>reference</code>. If <code>index = c("absolute", "relative")</code>, both
values are included in a data frame of five columns.</p></li>
<li><p><code>net_change</code> returns a data frame of four columns indicating the net change
value (<code>NC_abs</code>; <code>NC_rel</code>) for each <code>disturbed_trajectory</code>, post-disturbance
state (<code>state</code>), and <code>reference</code>. If <code>index = c("absolute", "relative")</code>, both
values are included in a data frame of five columns.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p><strong>Resistance (<code>resistance()</code>)</strong></p>
<p><em>Resistance</em> captures the immediate impact of the disturbance as a function
of the changes in the state variables (Sánchez-Pinillos et al., 2019).</p>
<p>\(
Rt = 1 - d_{pre,dist}
\)</p>
<p><strong>Amplitude (<code>amplitude()</code>)</strong></p>
<p><em>Amplitude</em> indicates the direction in which the system is displaced during the
disturbance in relation to the <code>reference</code> (Sánchez-Pinillos et al., 2024).
Positive values indicate that the disturbance displaces the system towards the
boundaries of the dynamic regime. Negative values indicate that the disturbance
displaces the system towards the representative trajectory.</p>
<p>Two indices can be calculated:</p>
<p>If <code>index = "absolute"</code>,</p>
<p>\(
A = d_{dist,RT} - d_{pre,RT}
\)</p>
<p>If <code>index = "relative"</code>,</p>
<p>\(
A = \frac{d_{dist,RT} - d_{pre,RT}}{d_{pre,dist}}
\)</p>
<p><strong>Recovery (<code>recovery()</code>)</strong></p>
<p><em>Recovery</em> quantifies the ability of the system to evolve towards the <code>reference</code>
following the relief of the disturbance (if positive) or move in the direction
of the boundaries of the dynamic regime (if negative) (Sánchez-Pinillos et al.,
2024).</p>
<p>Two indices can be calculated:</p>
<p>If <code>index = "absolute"</code>,</p>
<p>\(
Rc = d_{dist,RT} - d_{post,RT}
\)</p>
<p>If <code>index = "relative"</code>,</p>
<p>\(
Rc = \frac{d_{dist,RT} - d_{post,RT}}{d_{dist,post}}
\)</p>
<p><strong>Net change (<code>net_change()</code>)</strong></p>
<p><em>Net change</em> quantifies the proximity of the system to the <code>reference</code> relative to
the pre-disturbed state (Sánchez-Pinillos et al., 2024). Positive values indicate
that the system eventually evolves towards the boundaries of the dynamic regime.
Negative values indicate that the system eventually evolves towards the
<code>reference</code>.</p>
<p>Two indices can be calculated:</p>
<p>If <code>index = "absolute"</code>,</p>
<p>\(
NC = d_{post,RT} - d_{pre,RT}
\)</p>
<p>If <code>index = "relative"</code>,</p>
<p>\(
NC = \frac{d_{post,RT} - d_{pre,RT}}{d_{pre,post}}
\)</p>
<p>In all cases:</p><ul><li><p>\(d_{pre,RT}\) is the dissimilarity between the <code>predisturbed_states</code> and
the <code>reference</code>.</p></li>
<li><p>\(d_{dist,RT}\) is the dissimilarity between the <code>disturbed_states</code> and
the <code>reference</code>.</p></li>
<li><p>\(d_{post,RT}\) is the dissimilarity between the states after <code>disturbed_states</code>
and the <code>reference</code>.</p></li>
<li><p>\(d_{pre,dist}\) is the dissimilarity contained in <code>d</code> between the
<code>predisturbed_states</code> and the <code>disturbed_states</code>.</p></li>
<li><p>\(d_{dist,post}\) is the dissimilarity contained in <code>d</code> between the
<code>disturbed_states</code> and the post-disturbed states.</p></li>
<li><p>\(d_{pre,post}\) is the dissimilarity contained in <code>d</code> between the
<code>predisturbed_states</code> and the post-disturbed states.</p></li>
</ul><p>\(d_{pre,RT}\), \(d_{dist,RT}\), and \(d_{post,RT}\) are calculated using
the function <code><a href="state_to_trajectory.html">state_to_trajectory()</a></code> by three different methods:</p><ul><li><p>If <code>method = "nearest_state"</code>, \(d_{pre,RT}\), \(d_{dist,RT}\), and
\(d_{post,RT}\) are calculated as the dissimilarity between the pre-disturbance,
disturbed, or post-disturbance states and their nearest state in the  <code>reference</code>.</p></li>
<li><p>If <code>method = "projection"</code>, \(d_{pre,RT}\), \(d_{dist,RT}\), and
\(d_{post,RT}\) are calculated as the dissimilarity between the pre-disturbance,
disturbed, or post-disturbance states and their projection onto the <code>reference</code>.</p></li>
<li><p>If <code>method = "mixed"</code>, \(d_{pre,RT}\), \(d_{dist,RT}\), and \(d_{post,RT}\)
are calculated in the same way than <code>method = "projection"</code> whenever the
pre-disturbance, disturbed and post-disturbance states can be projected onto
any segment of the <code>reference</code>. Otherwise, \(d_{pre,RT}\), \(d_{dist,RT}\),
and \(d_{post,RT}\) are calculated using the nearest state of the <code>reference</code>.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Sánchez-Pinillos, M., Leduc, A., Ameztegui, A., Kneeshaw, D., Lloret, F., &amp; Coll, L.
(2019). Resistance, resilience or change: Post-disturbance dynamics of boreal
forests after insect outbreaks. <em>Ecosystems</em> 22, 1886-1901
https://doi.org/10.1007/s10021-019-00378-6</p>
<p>Sánchez-Pinillos, M., Dakos, V., &amp; Kéfi, S. (2024). Ecological dynamic regimes:
A key concept for assessing ecological resilience. <em>Biological Conservation</em>
289, 110409 https://doi.org/10.1016/j.biocon.2023.110409</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="retra_edr.html">retra_edr()</a></code> to identify representative trajectories in an ecological dynamic
regime.</p>
<p><code><a href="define_retra.html">define_retra()</a></code> to generate an object of class<code>RETRA</code>.</p>
<p><code><a href="state_to_trajectory.html">state_to_trajectory()</a></code> to calculate the position of a state with respect to
a trajectory.</p></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Martina Sánchez-Pinillos</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Identify the representative trajectories of the EDR from undisturbed trajectories</span></span></span>
<span class="r-in"><span><span class="va">RT</span> <span class="op">&lt;-</span> <span class="fu"><a href="retra_edr.html">retra_edr</a></span><span class="op">(</span>d <span class="op">=</span> <span class="va">EDR_data</span><span class="op">$</span><span class="va">EDR3</span><span class="op">$</span><span class="va">state_dissim</span>,</span></span>
<span class="r-in"><span>                trajectories <span class="op">=</span> <span class="va">EDR_data</span><span class="op">$</span><span class="va">EDR3</span><span class="op">$</span><span class="va">abundance</span><span class="op">$</span><span class="va">traj</span>,</span></span>
<span class="r-in"><span>                states <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/integer.html" class="external-link">as.integer</a></span><span class="op">(</span><span class="va">EDR_data</span><span class="op">$</span><span class="va">EDR3</span><span class="op">$</span><span class="va">abundance</span><span class="op">$</span><span class="va">state</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                minSegs <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Abundance matrix including disturbed and undisturbed trajectories</span></span></span>
<span class="r-in"><span><span class="va">abundance</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span><span class="va">EDR_data</span><span class="op">$</span><span class="va">EDR3</span><span class="op">$</span><span class="va">abundance</span>,</span></span>
<span class="r-in"><span>                   <span class="va">EDR_data</span><span class="op">$</span><span class="va">EDR3_disturbed</span><span class="op">$</span><span class="va">abundance</span>, fill <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># State dissimilarities (Bray-Curtis) for disturbed and undisturbed trajectories</span></span></span>
<span class="r-in"><span><span class="va">d</span> <span class="op">&lt;-</span> <span class="fu">vegan</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/vegan/man/vegdist.html" class="external-link">vegdist</a></span><span class="op">(</span><span class="va">abundance</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"sp"</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">12</span><span class="op">)</span><span class="op">]</span>, method <span class="op">=</span> <span class="st">"bray"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Resistance</span></span></span>
<span class="r-in"><span><span class="va">Rt</span> <span class="op">&lt;-</span> <span class="fu">resistance</span><span class="op">(</span>d <span class="op">=</span> <span class="va">d</span>, trajectories <span class="op">=</span> <span class="va">abundance</span><span class="op">$</span><span class="va">traj</span>, states <span class="op">=</span> <span class="va">abundance</span><span class="op">$</span><span class="va">state</span>,</span></span>
<span class="r-in"><span>                 disturbed_trajectories <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">abundance</span><span class="op">[</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">disturbed_states</span><span class="op">)</span><span class="op">]</span><span class="op">$</span><span class="va">traj</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                 disturbed_states <span class="op">=</span> <span class="va">abundance</span><span class="op">[</span><span class="va">disturbed_states</span> <span class="op">==</span> <span class="fl">1</span><span class="op">]</span><span class="op">$</span><span class="va">state</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Amplitude</span></span></span>
<span class="r-in"><span><span class="va">A</span> <span class="op">&lt;-</span> <span class="fu">amplitude</span><span class="op">(</span>d <span class="op">=</span> <span class="va">d</span>, trajectories <span class="op">=</span> <span class="va">abundance</span><span class="op">$</span><span class="va">traj</span>, states <span class="op">=</span> <span class="va">abundance</span><span class="op">$</span><span class="va">state</span>,</span></span>
<span class="r-in"><span>               disturbed_trajectories <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">abundance</span><span class="op">[</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">disturbed_states</span><span class="op">)</span><span class="op">]</span><span class="op">$</span><span class="va">traj</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>               disturbed_states <span class="op">=</span> <span class="va">abundance</span><span class="op">[</span><span class="va">disturbed_states</span> <span class="op">==</span> <span class="fl">1</span><span class="op">]</span><span class="op">$</span><span class="va">state</span>, reference <span class="op">=</span> <span class="va">RT</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Recovery</span></span></span>
<span class="r-in"><span><span class="va">Rc</span> <span class="op">&lt;-</span> <span class="fu">recovery</span><span class="op">(</span>d <span class="op">=</span> <span class="va">d</span>, trajectories <span class="op">=</span> <span class="va">abundance</span><span class="op">$</span><span class="va">traj</span>, states <span class="op">=</span> <span class="va">abundance</span><span class="op">$</span><span class="va">state</span>,</span></span>
<span class="r-in"><span>               disturbed_trajectories <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">abundance</span><span class="op">[</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">disturbed_states</span><span class="op">)</span><span class="op">]</span><span class="op">$</span><span class="va">traj</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>               disturbed_states <span class="op">=</span> <span class="va">abundance</span><span class="op">[</span><span class="va">disturbed_states</span> <span class="op">==</span> <span class="fl">1</span><span class="op">]</span><span class="op">$</span><span class="va">state</span>, reference <span class="op">=</span> <span class="va">RT</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Net change</span></span></span>
<span class="r-in"><span><span class="va">NC</span> <span class="op">&lt;-</span> <span class="fu">net_change</span><span class="op">(</span>d <span class="op">=</span> <span class="va">d</span>, trajectories <span class="op">=</span> <span class="va">abundance</span><span class="op">$</span><span class="va">traj</span>, states <span class="op">=</span> <span class="va">abundance</span><span class="op">$</span><span class="va">state</span>,</span></span>
<span class="r-in"><span>                 disturbed_trajectories <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">abundance</span><span class="op">[</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">disturbed_states</span><span class="op">)</span><span class="op">]</span><span class="op">$</span><span class="va">traj</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                 disturbed_states <span class="op">=</span> <span class="va">abundance</span><span class="op">[</span><span class="va">disturbed_states</span> <span class="op">==</span> <span class="fl">1</span><span class="op">]</span><span class="op">$</span><span class="va">state</span>, reference <span class="op">=</span> <span class="va">RT</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Martina Sánchez-Pinillos.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

