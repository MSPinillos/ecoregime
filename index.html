<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="A toolbox for implementing the Ecological Dynamic Regime framework 
    (Sánchez-Pinillos et al., 2023 &lt;doi:10.1002/ecm.1589&gt;) to 
    characterize and compare groups of ecological trajectories in multidimensional 
    spaces defined by state variables. The package includes the RETRA-EDR algorithm 
    to identify representative trajectories, functions to generate, summarize, 
    and visualize representative trajectories, and several metrics to quantify 
    the distribution and heterogeneity of trajectories in an ecological dynamic 
    regime and quantify the dissimilarity between two or more ecological dynamic 
    regimes.">
<title>Analysis of Ecological Dynamic Regimes • ecoregime</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png">
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Analysis of Ecological Dynamic Regimes">
<meta property="og:description" content="A toolbox for implementing the Ecological Dynamic Regime framework 
    (Sánchez-Pinillos et al., 2023 &lt;doi:10.1002/ecm.1589&gt;) to 
    characterize and compare groups of ecological trajectories in multidimensional 
    spaces defined by state variables. The package includes the RETRA-EDR algorithm 
    to identify representative trajectories, functions to generate, summarize, 
    and visualize representative trajectories, and several metrics to quantify 
    the distribution and heterogeneity of trajectories in an ecological dynamic 
    regime and quantify the dissimilarity between two or more ecological dynamic 
    regimes.">
<meta property="og:image" content="https://mspinillos.github.io/ecoregime/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">ecoregime</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.3.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="articles/EDR_framework.html">Ecological Dynamic Regime framework</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/MSPinillos/ecoregime/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header">
<img src="logo.png" class="logo" alt=""><h1 id="ecoregime-">
<code>ecoregime</code> <a class="anchor" aria-label="anchor" href="#ecoregime-"></a>
</h1>
</div>
<div class="section level2">
<h2 id="analysis-of-ecological-dynamic-regimes">Analysis of Ecological Dynamic Regimes<a class="anchor" aria-label="anchor" href="#analysis-of-ecological-dynamic-regimes"></a>
</h2>
<!-- badges: start -->

<p><code>ecoregime</code> implements the EDR framework to characterize and compare groups of ecological trajectories in multidimensional spaces defined by ecosystem state variables. The EDR framework was introduced in:</p>
<p>Sánchez-Pinillos, M., Kéfi, S., De Cáceres, M., Dakos, V. 2023. Ecological Dynamic Regimes: Identification, characterization, and comparison. <em>Ecological Monographs</em>. <a href="doi:10.1002/ecm.1589" class="uri">doi:10.1002/ecm.1589</a></p>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install <code>ecoregime</code> via CRAN:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"ecoregime"</span><span class="op">)</span></span></code></pre></div>
<p>You can also install the development version of <code>ecoregime</code> with:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("devtools")</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"MSPinillos/ecoregime"</span><span class="op">)</span></span></code></pre></div>
<p>You can get an overview about its functionality and the workflow of the EDR framework in the package documentation and vignette.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Force the inclusion of the vignette in the installation</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"MSPinillos/ecoregime"</span>, </span>
<span>                         build_opts <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"--no-resave-data"</span>, <span class="st">"--no-manual"</span><span class="op">)</span>,</span>
<span>                         build_vignettes <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Load the package after the installation</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://mspinillos.github.io/ecoregime/">ecoregime</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Access the documentation and vignette</span></span>
<span><span class="op">?</span><span class="va">ecoregime</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/vignette.html" class="external-link">vignette</a></span><span class="op">(</span><span class="st">"EDR_framework"</span>, package <span class="op">=</span> <span class="st">"ecoregime"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a>
</h2>
<p>Identify and plot representative trajectories in ecological dynamic regimes.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://mspinillos.github.io/ecoregime/">ecoregime</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Calculate state dissimilarities from a matrix of state variables (e.g., species abundances)</span></span>
<span><span class="va">variables</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span><span class="va">EDR_data</span><span class="op">$</span><span class="va">EDR1</span><span class="op">$</span><span class="va">abundance</span><span class="op">)</span></span>
<span><span class="va">d</span> <span class="op">&lt;-</span> <span class="fu">vegan</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/vegan/man/vegdist.html" class="external-link">vegdist</a></span><span class="op">(</span><span class="va">variables</span><span class="op">[</span>, <span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Identify the trajectory (or site) and states in d</span></span>
<span><span class="va">trajectories</span> <span class="op">&lt;-</span> <span class="va">variables</span><span class="op">$</span><span class="va">traj</span></span>
<span><span class="va">states</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/integer.html" class="external-link">as.integer</a></span><span class="op">(</span><span class="va">variables</span><span class="op">$</span><span class="va">state</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Compute RETRA-EDR</span></span>
<span><span class="va">RT</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/retra_edr.html">retra_edr</a></span><span class="op">(</span>d <span class="op">=</span> <span class="va">d</span>, trajectories <span class="op">=</span> <span class="va">trajectories</span>, states <span class="op">=</span> <span class="va">states</span>,</span>
<span>                 minSegs <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Plot representative trajectories of the EDR</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">RT</span>, d <span class="op">=</span> <span class="va">d</span>, trajectories <span class="op">=</span> <span class="va">trajectories</span>, states <span class="op">=</span> <span class="va">states</span>, select_RT <span class="op">=</span> <span class="st">"T2"</span>,</span>
<span>     traj.colors <span class="op">=</span> <span class="st">"lightblue"</span>, RT.colors <span class="op">=</span> <span class="st">"orange"</span>, sel.color <span class="op">=</span> <span class="st">"darkgreen"</span>,</span>
<span>     link.lty <span class="op">=</span> <span class="fl">1</span>, asp <span class="op">=</span> <span class="fl">1</span>, main <span class="op">=</span> <span class="st">"Representative trajectories - EDR"</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-plotEDR-1.png" width="100%"></p>
<p>Characterize the internal structure of ecological dynamic regimes calculating the dispersion (dDis), beta diversity (dBD), and evenness (dEve) of the individual trajectories.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Dynamic dispersion considering trajectory "1" as a reference</span></span>
<span><span class="fu"><a href="reference/EDR_metrics.html">dDis</a></span><span class="op">(</span>d <span class="op">=</span> <span class="va">d</span>, d.type <span class="op">=</span> <span class="st">"dStates"</span>, trajectories <span class="op">=</span> <span class="va">trajectories</span>, states <span class="op">=</span> <span class="va">states</span>, reference <span class="op">=</span> <span class="st">"1"</span><span class="op">)</span></span>
<span><span class="co">#&gt; dDis (ref. 1) </span></span>
<span><span class="co">#&gt;      0.267622</span></span>
<span></span>
<span><span class="co"># Dynamic beta diversity</span></span>
<span><span class="fu"><a href="reference/EDR_metrics.html">dBD</a></span><span class="op">(</span>d <span class="op">=</span> <span class="va">d</span>, d.type <span class="op">=</span> <span class="st">"dStates"</span>, trajectories <span class="op">=</span> <span class="va">trajectories</span>, states <span class="op">=</span> <span class="va">states</span><span class="op">)</span></span>
<span><span class="co">#&gt;        dBD </span></span>
<span><span class="co">#&gt; 0.03969095</span></span>
<span></span>
<span><span class="co"># Dynamic evenness</span></span>
<span><span class="fu"><a href="reference/EDR_metrics.html">dEve</a></span><span class="op">(</span>d <span class="op">=</span> <span class="va">d</span>, d.type <span class="op">=</span> <span class="st">"dStates"</span>, trajectories <span class="op">=</span> <span class="va">trajectories</span>, states <span class="op">=</span> <span class="va">states</span><span class="op">)</span></span>
<span><span class="co">#&gt;      dEve </span></span>
<span><span class="co">#&gt; 0.7100773</span></span></code></pre></div>
<p>Compare ecological dynamic regimes.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Load species abundances and compile in a data frame</span></span>
<span><span class="va">variables1</span> <span class="op">&lt;-</span> <span class="va">EDR_data</span><span class="op">$</span><span class="va">EDR1</span><span class="op">$</span><span class="va">abundance</span></span>
<span><span class="va">variables2</span> <span class="op">&lt;-</span> <span class="va">EDR_data</span><span class="op">$</span><span class="va">EDR2</span><span class="op">$</span><span class="va">abundance</span></span>
<span><span class="va">variables3</span> <span class="op">&lt;-</span> <span class="va">EDR_data</span><span class="op">$</span><span class="va">EDR3</span><span class="op">$</span><span class="va">abundance</span></span>
<span><span class="va">all_variables</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span><span class="va">variables1</span>, <span class="va">variables2</span>, <span class="va">variables3</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Calculate dissimilarities between every pair of states</span></span>
<span><span class="va">d</span> <span class="op">&lt;-</span> <span class="fu">vegan</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/vegan/man/vegdist.html" class="external-link">vegdist</a></span><span class="op">(</span><span class="va">all_variables</span><span class="op">[</span>, <span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Compute dissimilarities between EDRs:</span></span>
<span><span class="fu"><a href="reference/dist_edr.html">dist_edr</a></span><span class="op">(</span>d <span class="op">=</span> <span class="va">d</span>, d.type <span class="op">=</span> <span class="st">"dStates"</span>,</span>
<span>         trajectories <span class="op">=</span> <span class="va">all_variables</span><span class="op">$</span><span class="va">traj</span>, states <span class="op">=</span> <span class="va">all_variables</span><span class="op">$</span><span class="va">state</span>, </span>
<span>         edr <span class="op">=</span> <span class="va">all_variables</span><span class="op">$</span><span class="va">EDR</span>, metric <span class="op">=</span> <span class="st">"dDR"</span>, symmetrize <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span>
<span><span class="co">#&gt;           1         2         3</span></span>
<span><span class="co">#&gt; 1 0.0000000 0.5895458 0.3458250</span></span>
<span><span class="co">#&gt; 2 0.5700499 0.0000000 0.4907364</span></span>
<span><span class="co">#&gt; 3 0.4033212 0.6068221 0.0000000</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="citation">Citation<a class="anchor" aria-label="anchor" href="#citation"></a>
</h2>
<p>To cite <code>ecoregime</code> in publications use:</p>
<p>Sánchez-Pinillos M, Kéfi S, De Cáceres M, Dakos V (2023). “Ecological dynamic regimes: Identification, characterization, and comparison.” <em>Ecological Monographs</em>. <a href="https://doi.org/10.1002/ecm.1589" class="external-link uri">https://doi.org/10.1002/ecm.1589</a>.</p>
<p>Sánchez-Pinillos M (2023). <em>ecoregime: Analysis of Ecological Dynamic Regimes</em>. <a href="https://doi.org/10.5281/zenodo.7584943" class="external-link uri">https://doi.org/10.5281/zenodo.7584943</a>.</p>
</div>
<div class="section level2">
<h2 id="acknowledgements">Acknowledgements<a class="anchor" aria-label="anchor" href="#acknowledgements"></a>
</h2>
<p>This project has received funding from the European Union’s Horizon 2020 research and innovation program under the Marie Sklodowska-Curie grant agreement No 891477 (RESET project).</p>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=ecoregime" class="external-link">View on CRAN</a></li>
<li><a href="https://github.com/MSPinillos/ecoregime/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/MSPinillos/ecoregime/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small>GPL (&gt;= 3)</small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing ecoregime</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Martina Sánchez-Pinillos <br><small class="roles"> Author, maintainer, copyright holder </small> <a href="https://orcid.org/0000-0002-1499-4507" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/MSPinillos/ecoregime/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/MSPinillos/ecoregime/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Martina Sánchez-Pinillos.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
